<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blog Â· Mount Gambel Oak</title>
  {% include 'includes/head-assets.html' %}
  <link rel="stylesheet" href="/static/css/pages/blog.css" />
</head>
<body>
  {% set active_page = 'blog' %}
  {% include 'includes/header.html' %}

  <main class="blog">
    <section class="blog-hero">
      <h1>Blog</h1>
      <p>Check back for updates on what I'm working on, and maybe the occasional philosophical musing.</p>
    </section>

    <section class="blog-posts">
      {% if posts %}
        {% if all_tags %}
        <div class="blog-tag-filter" role="toolbar" aria-label="Filter by tag">
          <button type="button" class="tag-chip tag-chip--active" data-tag="all">All</button>
          {% for tag in all_tags %}
          <button type="button" class="tag-chip" data-tag="{{ tag }}">{{ tag }}</button>
          {% endfor %}
        </div>
        {% endif %}
        <div class="blog-card-list">
          {% for post in posts %}
          <article class="blog-card" data-tags="{{ post.tags | default([], true) | join('||') }}">
            <header>
              <h2><a href="/blog/{{ post.slug }}">{{ post.title }}</a></h2>
              <p class="blog-card-meta">
                <span>{{ post.date }}</span>
                {% if post.updated and post.updated != post.date %}
                <span>Updated {{ post.updated }}</span>
                {% endif %}
                {% if post.reading_time_minutes %}
                <span>{{ post.reading_time_minutes }} min read</span>
                {% endif %}
              </p>
            </header>
            <p class="blog-card-summary">{{ post.summary }}</p>
            {% if post.tags %}
            <ul class="blog-card-tags">
              {% for tag in post.tags %}
              <li><a class="tag-chip" data-tag="{{ tag }}" href="/blog?tag={{ tag }}">{{ tag }}</a></li>
              {% endfor %}
            </ul>
            {% endif %}
          </article>
          {% endfor %}
        </div>
      {% else %}
        <article class="blog-placeholder">
          <h2>Nothing was found</h2>
          <p>
            No blog posts were found, which means either something went horribly wrong, or GambelDev has been
            shirking his writing. Feel free to judge him silently, or contact him to laugh in his face directly.
          </p>
        </article>
      {% endif %}
    </section>
  </main>

  {% include 'includes/footer.html' %}

  {% include 'includes/footer-scripts.html' %}
</body>
</html>
